<div class="form-container">
  <h2>Registro de Facturas</h2>
  <form [formGroup]="formulario" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Nº Factura *</label>
      <input formControlName="numeroFactura" />
    </div>
    <div class="form-group">
      <label>ID Compra *</label>
      <input type="number" formControlName="compraId" />
    </div>
    <div class="form-group">
      <label>Monto *</label>
      <input type="number" formControlName="montoTotal" />
    </div>
    <div class="form-group">
      <label>RUT Proveedor *</label>
      <input formControlName="rutProveedor" placeholder="12345678-9" />
    </div>
    <button type="submit" [disabled]="formulario.invalid">Crear Factura</button>
  </form>

  <div *ngIf="successMessage" class="toast-success">
    {{ successMessage }}<span class="toast-arrow"></span>
  </div>
  <div *ngIf="errorMessage" class="toast-error">
    {{ errorMessage }}<span class="toast-arrow"></span>
  </div>
</div>

<hr/>

<h3>Listado de Facturas</h3>
<table>
  <tr><th>Nº</th><th>Compra</th><th>Monto</th><th>RUT</th><th>Acc.</th></tr>
  <tr *ngFor="let f of facturas">
    <td>{{ f.numeroFactura }}</td>
    <td>{{ f.compraId }}</td>
    <td>{{ f.montoTotal }}</td>
    <td>{{ f.rutProveedor }}</td>
    <td><button (click)="eliminar(f.id!)">🗑️</button></td>
  </tr>
</table>
<!-- Aquí se incluye el componente de guías de despacho -->
<h2>Guías de Despacho</h2>
<app-guias-despacho></app-guias-despacho>